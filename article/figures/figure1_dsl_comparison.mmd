%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#e8f4f8', 'primaryTextColor': '#1a1a1a', 'primaryBorderColor': '#4a90a4', 'lineColor': '#4a90a4', 'secondaryColor': '#f0f7e6', 'tertiaryColor': '#fff5e6'}}}%%

graph TB
    subgraph "Legal Domain-Specific Languages"
        direction TB

        subgraph catala["Catala"]
            C1[General Tax Law]
            C2[French/English syntax]
            C3[Literate programming]
            C4[No currency types]
        end

        subgraph openfisca["OpenFisca"]
            O1[Tax/Benefit microsimulation]
            O2[Python-based]
            O3[Large community]
            O4[Complex setup]
        end

        subgraph ipflang["IPFLang"]
            I1[IP Fee Calculations]
            I2[Currency-typed amounts]
            I3[Completeness verification]
            I4[Provenance tracking]
        end

        subgraph drools["Drools"]
            D1[General business rules]
            D2[Java-based]
            D3[Enterprise focus]
            D4[No domain specificity]
        end
    end

    subgraph features["Key Differentiating Features"]
        F1["Currency Safety<br/>(161 ISO 4217 codes)"]
        F2["Static Verification<br/>(Completeness + Monotonicity)"]
        F3["Provenance Tracking<br/>(Full audit trail)"]
        F4["Domain Focus<br/>(IP Fees specifically)"]
    end

    ipflang --> F1
    ipflang --> F2
    ipflang --> F3
    ipflang --> F4

    style ipflang fill:#e8f4f8,stroke:#4a90a4,stroke-width:3px
    style catala fill:#f0f7e6,stroke:#7cb342,stroke-width:2px
    style openfisca fill:#f0f7e6,stroke:#7cb342,stroke-width:2px
    style drools fill:#fff5e6,stroke:#ffa726,stroke-width:2px
    style features fill:#fff,stroke:#666,stroke-width:1px
